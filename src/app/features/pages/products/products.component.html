<section class="mt-24">
    
    <div class="px-10 py-3 w-[70%] mx-auto mb-10 text-center">
        <input [(ngModel)]="text" type="search" placeholder="search by name....." id="search" class="bg-gray-100 border border-gray-300 placeholder:text-gray-500 placeholder:text-xl text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
    </div>

    
<div class="grid gap-10 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4">

    
    
@for (product of products | search : text ; track $index) {
    <div class="overflow-hidden transition-all duration-500 rounded-md shadow card hover:shadow-2xl">
        <div [routerLink] = "['/productDetails' , product._id]">
            <div>
                <img [src]="product.imageCover" class="w-full" [alt]="product.title">
            </div>
            
            <div class="px-3 py-4 body">
            <div class="flex justify-between mt-4">
                <h2 class="text-green-700 text-3xs">{{product.category.name}}</h2>
                
            </div>
            
            <p class="my-3 font-semibold text-3xs">{{product.title | termtext : 3 }}</p>
            
            <div class="flex justify-between">
                <span>{{product.price | currency : 'GBP' }}</span>
                <span>
                    <i class="text-yellow-400 fa-solid fa-star"></i>
                    <span>{{product.ratingsAverage}}</span>
                </span>
            </div>
            </div>
        </div>

        <div class="heart">
            <button (click)="addToWishlist(product._id)" class="block ms-auto w-[25%]"><i class="fa-solid fa-heart fa-2xl hover:text-red-600"></i></button>
        </div>
        
        <button (click)="addToCart(product._id)" class="btn px-10 py-2 text-white bg-green-700 rounded-md w-[80%] mx-auto block my-1">Add To cart</button>
    
    </div>
}
    
</div>
</section>